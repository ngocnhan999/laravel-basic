(()=>{var t=t||{},e=!1;t.showMessage=function(t,e){$(t).parent().find(".error").length>0&&($(t).parent().find(".error").html(e),$(t).addClass("has-error"),$(t).parent().find(".error").show())},t.setFocus=function(t){0==e&&(e=!0,$(t).focus())},t.hideMessage=function(t){$(t).parent().find(".error").length>0&&($(t).removeClass("has-error"),$(t).parent().find(".error").delay(3e3).hide())},t.isEmail=function(t){return/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(t)},t.isPhoneNumber=function(t){var e=!1;if(""!==(t=(t=(t=(t=t.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))){var i=t.substring(0,2);"09"!==i&&"08"!==i&&"05"!==i&&"03"!==i&&"07"!==i||10!==t.length||t.match(/^\d{10}/)&&(e=!0)}return e},t.validURL=function(t){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)};var i={init:function(){$(".select2-basic").length>0&&$(".select2-basic").select2({minimumResultsForSearch:1/0}),$(".select2-search").length>0&&$(".select2-search").select2({width:"100%"}),$(".select-search").length>0&&$(".select-search").select2({width:"100%"}),$(".select2-tags").length>0&&$(".select2-tags").select2({tokenSeparators:[","]}),$(".autoNumeric").length>0&&$(".autoNumeric").autoNumeric("init"),$(".inputmask").length>0&&$(".inputmask").inputmask(),$(".datePicker").length>0&&$(".datePicker").datepicker({format:"mm/dd/yyyy",autoclose:!0,changeMonth:!0,changeYear:!0})}};!function(e){"use strict";e(document).ready((function(){e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}}),i.init(),e('a[data-toggle="tab"]').on("shown.bs.tab",(function(t){i.init()}));e("#txtPhone,input[type=tel]").keypress((function(t){var e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))})),e(".dobDatePicker").datepicker({format:"dd/mm/yyyy",endDate:new Date("2004-12-31"),autoclose:!0,viewMode:"years",changeMonth:!0,changeYear:!0}).on("changeDate",(function(t){t&&e("span.errDob").html("")})),e(document).on("change","input#vietseeds_select",(function(t){t.preventDefault(),1==e(this).val()?e(".extend_v").show().find("input").addClass("required"):e(".extend_v").hide().find("input").removeClass("required")})),e(document).on("click","a.removeSingleImage",(function(t){t.preventDefault(),t.stopPropagation();var i=e(this),a=e(this).data("action"),s=e(this).data("type");return e.ajax({url:a,type:"POST",data:{_method:"DELETE",type:s},async:!0,dataType:"json"}).done((function(t,a,s){if(!t.error)if("house"===t.data.type)e(".showSingleFileHouseUpload").hide().html(""),e(".singleFileHouseUpload").show();else if("people"===t.data.type)e(".showSingleFilePeopleUpload").hide().html(""),e(".singleFilePeopleUpload").show();else if("family"===t.data.type)e(".showSingleFileUpload").hide().html(""),e(".singleFileUpload").show();else if("letter"===t.data.type)e("#hddFileLetter").val(""),e(".loadData").html(""),e(".introducingLetter").show();else{t.data.count<5&&e(".showMultipleFileUpload").show(),i.parents(".fbox-media3").remove()}})).fail((function(t){})),!1})),e("input,textarea").keyup((function(i){if(i.preventDefault(),0!==e(this).val().trim().length&&t.hideMessage(e(this)),e(this).hasClass("is_validate")){var a=e(this),s=a.parents("table.phone_numbers");if(!1===t.isPhoneNumber(e(this).val()))return void t.showMessage(e(this),"Số điện thoại không đúng định dạng.");s.length>0&&e(s).find("input.is_validate").each((function(i,s){var n=e(this);t.hideMessage(a),n.is(a)?t.hideMessage(a):n.val().trim().length>0&&n.val()===a.val()&&t.showMessage(a,"Vui lòng không nhập trùng số điện thoại.")}))}if(e(this).hasClass("is_validate_owner")){var n=e(this),h=n.parents("table.phone_numbers");h.length>0&&e(h).find("input.is_validate_owner").each((function(i,a){var s=e(this);if(s.is(n)||s.val()!==n.val()){var h=e("#txtLastName").val();-1!=s.val().indexOf(h)&&t.showMessage(s,"Họ tên đệm hoặc tên không được nhập trùng tên bạn.")}else t.showMessage(n,"Vui lòng không nhập trùng tên Họ và tên.")}))}})),e("select").change((function(i){i.preventDefault(),0!==e(this).val().trim().length&&t.hideMessage(e(this))})),e(document).on("change","#sltYearRank",(function(t){t.preventDefault(),6==e(this).val()?(e(".totalAmount").show().find("label").addClass("required"),e(".totalAmount").find("input").addClass("required")):(e(".totalAmount").hide().find("label").removeClass("required"),e(".totalAmount").find("input").removeClass("required"))}));e("ul.tab-steps li.nav-item a.nav-link");var a=e("button.nextTabBtn"),s=e("button.btnPrev"),n=e(".nextBtn");e("button.prev");n.click((function(i){i.preventDefault();var a=e(this).closest(".setup-content"),s=a.attr("id"),n=e('ul.tab-steps li.nav-item a.nav-link[href="#'+s+'"]'),h=n.parent().next().children("a"),r=(a.find("input[type=text],input[type='url'],textarea[textarea]"),e(this).parents(".setup-content"));t.isValidElementContentStepForm(r)&&(n.parent().find(".nav-button").hide(),n.parent().next().find(".nav-button").show(),h.removeAttr("disabled").trigger("click").addClass("active"))})),a.click((function(i){i.preventDefault();e(this).closest(".setup-content");var a=e(this).data("current"),s=e(this).data("next"),n=e('ul.tab-steps li.nav-item a.nav-link[href="#'+s+'"]'),h=n.parent("li"),r=e("#"+a);t.isValidElementContentStepForm(r)&&(e(this).parent(".nav-button").hide(),n.removeAttr("disabled").trigger("click"),h.addClass("active show").find(".nav-button").show(),e("#hddCurrentTab").val(s))})),s.click((function(t){t.preventDefault();var i=e(this).data("prev"),a=e('ul.tab-steps li.nav-item a.nav-link[href="#'+i+'"]'),s=a.parent("li");e(this).parent(".nav-button").hide(),a.length>0&&(a.trigger("click"),s.find(".nav-button").show(),e("#hddCurrentTab").val(i))})),e(document).on("click","button.prev",(function(t){t.preventDefault();var i=e(this).data("prev");e('ul.tab-steps li.nav-item a.nav-link[href="#'+i+'"]').trigger("click"),e("html,body").animate({scrollTop:e("#content").offset().top},"slow")})),e("table").on("click","a.removeRow",(function(t){t.preventDefault();var i=e(this).parents("tr");i.length>0&&i.remove()})),e(document).on("change","select.is_accepted",(function(t){t.preventDefault();var i=e(this).parents("tr").find("input.is_applying");"0"===e(this).val()?i.prop("checked",!1).attr("disabled","disabled"):i.prop("checked",!0).removeAttr("disabled")}))})),t.isValidElementContentStepForm=function(i){try{var a=!0;return i.find("input[type=number]").each((function(){if(t.hideMessage(e(this)),!0===e(this).hasClass("required")&&0===e(this).val().trim().length&&(void 0!==e(this).attr("data-required")?t.showMessage(e(this),e(this).attr("data-required")):t.showMessage(e(this),"Vui lòng nhập thông tin!"),a=!1),void 0!==e(this).attr("numberonly")&&0!==e(this).val().trim().length&&!e(this).is(":hidden")){"1"!==e(this).attr("numberonly")||/^\d+$/.test(e(this).val())||(t.showMessage(e(this),"Bạn cần nhập số."),a=!1),"2"===e(this).attr("numberonly")&&(isNaN(e(this).val())||!parseFloat(e(this).val())>0)&&(t.showMessage(e(this),"Bạn cần nhập số."),a=!1)}})),i.find("input[type=tel]").each((function(){if(t.hideMessage(e(this)),!0===e(this).hasClass("required")&&(0===e(this).val().trim().length?(void 0!==e(this).attr("data-required")?t.showMessage(e(this),e(this).attr("data-required")):t.showMessage(e(this),"Vui lòng nhập thông tin!"),a=!1):e(this).hasClass("highSchoolPhone")||(!1===t.isPhoneNumber(e(this).val())?(a=!1,t.showMessage(e(this),"Số điện thoại không đúng định dạng.")):t.hideMessage(e(this))),e(this).hasClass("is_validate"))){var i=e(this),s=i.parents("table.phone_numbers");s.length>0&&e(s).find("input.is_validate").each((function(s,n){var h=e(this);h.is(i)?h.val().trim().length>0&&h.val()==e("#txtPhone").val()&&(t.showMessage(h,"Số điện thoại không được trùng số cá nhân."),a=!1):h.val().trim().length>0&&h.val()===i.val()&&(t.showMessage(i,"Vui lòng không nhập trùng số điện thoại."),a=!1)}))}})),i.find("input[type=text],input[type=hidden]").each((function(){if(t.hideMessage(e(this)),!0===e(this).hasClass("required")){if(0===e(this).val().trim().length)void 0!==e(this).attr("data-required")?("dob"===e(this).attr("id")&&e(".errDob").html(e(this).attr("data-required")),t.showMessage(e(this),e(this).attr("data-required"))):t.showMessage(e(this),"Vui lòng nhập thông tin!"),a=!1;else if(e(this).hasClass("is_validate_owner")){var i=e(this),s=i.parents("table.phone_numbers");s.length>0&&e(s).find("input.is_validate_owner").each((function(s,n){var h=e(this);if(h.is(i)||h.val()!==i.val()){var r=e("#txtLastName").val();-1!=h.val().indexOf(r)&&(t.showMessage(h,"Họ tên đệm hoặc tên không được trùng."),a=!1)}else a=!1,t.showMessage(i,"Vui lòng không nhập trùng tên Họ và tên.")}))}if(void 0!==e(this).attr("minlength")){var n=parseInt(e(this).attr("minlength"));n<e(this).val().split(" ").length&&(t.showMessage(e(this),"Số ký tự tối thiểu "+n),a=!1)}if(void 0!==e(this).attr("maxlength")){var h=parseInt(e(this).attr("maxlength"));h<e(this).val().length&&(t.showMessage(e(this),"Số ký tự cần nhỏ hơn "+h),a=!1)}}if(e(this).val().trim().length>0){if(void 0!==e(this).attr("minwords")){var r=parseInt(e(this).attr("minwords"));e(this).val().split(" ").length<r&&(a=!1,t.showMessage(e(this),"Số ký tự tối thiểu "+r+" từ"))}if(void 0!==e(this).attr("maxwords")){var l=parseInt(e(this).attr("maxwords"));e(this).val().split(" ").length>l&&(a=!1,t.showMessage(e(this),"Số ký tự cần nhỏ hơn "+l+" từ"))}}if(void 0!==e(this).attr("numberonly")&&0!==e(this).val().trim().length&&!e(this).is(":hidden")){"1"!==e(this).attr("numberonly")||/^\d+$/.test(e(this).val())||(t.showMessage(e(this),"Bạn cần nhập số."),a=!1),"2"===e(this).attr("numberonly")&&(isNaN(e(this).val())||!parseFloat(e(this).val())>0)&&(t.showMessage(e(this),"Bạn cần nhập số."),a=!1)}})),i.find("textarea").each((function(){if(t.hideMessage(e(this)),e(".errDob").html(""),!0===e(this).hasClass("required")){if(0===e(this).val().trim().length&&(void 0!==e(this).attr("data-required")?("dob"===e(this).attr("id")&&e(".errDob").html(e(this).attr("data-required")),t.showMessage(e(this),e(this).attr("data-required"))):t.showMessage(e(this),"Vui lòng nhập thông tin!"),a=!1),void 0!==e(this).attr("minwords")){var i=parseInt(e(this).attr("minwords"));e(this).val().split(" ").length<i&&(a=!1,t.showMessage(e(this),"Số ký tự tối thiểu "+i+" từ"))}if(void 0!==e(this).attr("maxwords")){var s=parseInt(e(this).attr("maxwords"));e(this).val().split(" ").length>s&&(a=!1,t.showMessage(e(this),"Số ký tự cần nhỏ hơn "+s+" từ"))}}if(e(this).val().trim().length>0){if(void 0!==e(this).attr("minwords")){var n=parseInt(e(this).attr("minwords"));e(this).val().split(" ").length<n&&(a=!1,t.showMessage(e(this),"Số ký tự tối thiểu "+n+" từ"))}if(void 0!==e(this).attr("maxwords")){var h=parseInt(e(this).attr("maxwords"));e(this).val().split(" ").length>h&&(a=!1,t.showMessage(e(this),"Số ký tự cần nhỏ hơn "+h+" từ"))}}})),i.find("select").each((function(){if(t.hideMessage(e(this)),!0===e(this).hasClass("required")&&(0!==e(this).val().trim().length&&"-1"!==e(this).val()||(t.showMessage(e(this),"Vui lòng chọn thông tin!"),a=!1)),e(this).hasClass("yearly_rank")&&6==e(this).val()){var i=e("input.yearly_income");0===i.val().trim().length?(a=!1,t.showMessage(e("input.yearly_income"),"Vui lòng chọn thông tin!")):parseInt(i.val().replaceAll(",",""))<5e7&&(a=!1,t.showMessage(e("input.yearly_income"),"Tổng thu nhập hàng năm phải lớn hơn hoặc bằng 50,000,000 VND"))}})),a||e("html,body").animate({scrollTop:e("#content").offset().top},"slow"),a}catch(t){return console.log(t),!0}}}(jQuery)})();